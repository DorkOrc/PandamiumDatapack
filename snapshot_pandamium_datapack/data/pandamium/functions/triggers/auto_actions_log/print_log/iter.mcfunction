execute store result score <next_hour> variable run data get storage pandamium:auto_actions print_list[0].date[3]
scoreboard players add <next_hour> variable 1

data modify storage pandamium:auto_actions this_action set from storage pandamium:auto_actions print_list[0]

execute if data storage pandamium:auto_actions this_action{type:'auto_jail'} if score @s staff_perms matches 1 run tellraw @s [{"text":" ","color":"gold"},{"nbt":"print_list[0].username","storage":"pandamium:auto_actions","color":"yellow"}," was ",{"text":"auto-jailed","color":"yellow"}," for ",{"nbt":"print_list[0].reason","storage":"pandamium:auto_actions","color":"red"}," ",{"text":"[⌛]","color":"dark_gray","hoverEvent":{"action":"show_text","value":["Between ",[{"nbt":"print_list[0].date[3]","storage":"pandamium:auto_actions","color":"yellow"},":00"]," and ",[{"score":{"name":"<next_hour>","objective":"variable"},"color":"yellow"},":00 UTC"]," on ",[{"nbt":"print_list[0].date[2]","storage":"pandamium:auto_actions","color":"yellow"},"/",{"nbt":"print_list[0].date[1]","storage":"pandamium:auto_actions"},"/",{"nbt":"print_list[0].date[0]","storage":"pandamium:auto_actions"}]]}}]
execute if data storage pandamium:auto_actions this_action{type:'auto_jail'} if score @s staff_perms matches 2.. run tellraw @s [{"text":" ","color":"gold"},[{"nbt":"print_list[0].clickEvent","storage":"pandamium:auto_actions","interpret":true},{"text":"[→]","color":"blue","hoverEvent":{"action":"show_text","value":[{"text":"Click to teleport to ","color":"blue"},{"nbt":"print_list[0].username","storage":"pandamium:auto_actions"},"'s ",{"text":"Pre-Jail Location","bold":true}]}}]," ",{"nbt":"print_list[0].username","storage":"pandamium:auto_actions","color":"yellow"}," was ",{"text":"auto-jailed","color":"yellow"}," for ",{"nbt":"print_list[0].reason","storage":"pandamium:auto_actions","color":"red"}," ",{"text":"[⌛]","color":"dark_gray","hoverEvent":{"action":"show_text","value":["Between ",[{"nbt":"print_list[0].date[3]","storage":"pandamium:auto_actions","color":"yellow"},":00"]," and ",[{"score":{"name":"<next_hour>","objective":"variable"},"color":"yellow"},":00 UTC"]," on ",[{"nbt":"print_list[0].date[2]","storage":"pandamium:auto_actions","color":"yellow"},"/",{"nbt":"print_list[0].date[1]","storage":"pandamium:auto_actions"},"/",{"nbt":"print_list[0].date[0]","storage":"pandamium:auto_actions"}]]}}]
execute if data storage pandamium:auto_actions this_action{type:'take'} run tellraw @s [{"text":" ","color":"gold"},{"text":"[→]","color":"blue","hoverEvent":{"action":"show_text","value":[{"text":"Click to teleport to ","color":"blue"},{"text":"Staff World","bold":true}]},"clickEvent":{"action":"run_command","value":"/trigger staff_world"}}," ",{"nbt":"print_list[0].username","storage":"pandamium:auto_actions","color":"yellow"},{"text":"'s items were taken","color":"yellow"}," ",{"text":"[⌛]","color":"dark_gray","hoverEvent":{"action":"show_text","value":["Between ",[{"nbt":"print_list[0].date[3]","storage":"pandamium:auto_actions","color":"yellow"},":00"]," and ",[{"score":{"name":"<next_hour>","objective":"variable"},"color":"yellow"},":00 UTC"]," on ",[{"nbt":"print_list[0].date[2]","storage":"pandamium:auto_actions","color":"yellow"},"/",{"nbt":"print_list[0].date[1]","storage":"pandamium:auto_actions"},"/",{"nbt":"print_list[0].date[0]","storage":"pandamium:auto_actions"}]]}}]

data remove storage pandamium:auto_actions print_list[0]
execute if data storage pandamium:auto_actions print_list[0] run function pandamium:triggers/auto_actions_log/print_log/iter
