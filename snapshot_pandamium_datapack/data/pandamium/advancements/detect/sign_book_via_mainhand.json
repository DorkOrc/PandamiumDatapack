{
	"parent": "pandamium:detect/root",
	"criteria": {
		"sign_book_via_mainhand": {
			"trigger": "minecraft:inventory_changed",
			"conditions": {
				"player": [
					{
						"condition": "minecraft:entity_properties",
						"entity": "this",
						"predicate": {
							"equipment": {
								"mainhand": {
									"items": [
										"minecraft:written_book"
									]
								}
							}
						}
					},
					{
						"condition": "minecraft:inverted",
						"term": {
							"condition": "minecraft:entity_properties",
							"entity": "this",
							"predicate": {
								"equipment": {
									"mainhand": {
										"nbt": "{resolved:1b}"
									}
								}
							}
						}
					}
				],
				"items": [
					{
						"items": [
							"minecraft:written_book"
						]
					}
				]
			}
		}
	},
	"requirements": [
		[
			"sign_book_via_mainhand"
		]
	],
	"rewards": {
		"function": "pandamium:misc/book_dupe_patch/mainhand"
	}
}
