execute store result score <total_enchantments> variable run data get storage pandamium:containers item.components."minecraft:enchantments"
execute if score <total_enchantments> variable matches 0 run return 0

data modify storage pandamium:containers enchantments set value []

execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:aqua_affinity" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"aqua_affinity"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:bane_of_arthropods" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"bane_of_arthropods"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:binding_curse" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"binding_curse"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:blast_protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"blast_protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:channeling" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"channeling"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:depth_strider" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"depth_strider"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:efficiency" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"efficiency"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:feather_falling" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"feather_falling"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:fire_aspect" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"fire_aspect"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:fire_protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"fire_protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:flame" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"flame"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:fortune" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"fortune"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:frost_walker" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"frost_walker"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:impaling" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"impaling"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:infinity" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"infinity"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:knockback" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"knockback"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:looting" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"looting"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:loyalty" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"loyalty"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:luck_of_the_sea" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"luck_of_the_sea"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:lure" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"lure"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:mending" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"mending"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:multishot" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"multishot"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:piercing" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"piercing"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:power" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"power"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:projectile_protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"projectile_protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:punch" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"punch"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:quick_charge" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"quick_charge"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:respiration" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"respiration"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:riptide" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"riptide"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:sharpness" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"sharpness"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:silk_touch" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"silk_touch"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:smite" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"smite"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:soul_speed" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"soul_speed"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:sweeping_edge" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"sweeping_edge"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:swift_sneak" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"swift_sneak"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:thorns" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"thorns"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:unbreaking" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"unbreaking"}
execute if data storage pandamium:containers item.components."minecraft:enchantments"."minecraft:vanishing_curse" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"vanishing_curse"}

execute if data storage pandamium:containers {item:{id:'minecraft:enchanted_book'}} run tellraw @s [{text:"â””stored_enchantments: ",color:"aqua"},{text:"[Stored Enchantments]",color:"dark_purple",hover_event:{action:"show_text",value:[{nbt:"enchantments[]",storage:"pandamium:containers",interpret:true,separator:"\n"}]}}]
execute unless data storage pandamium:containers {item:{id:'minecraft:enchanted_book'}} run tellraw @s [{text:"â””enchantments: ",color:"aqua"},{text:"[Enchantments]",color:"dark_purple",hover_event:{action:"show_text",value:[{nbt:"enchantments[]",storage:"pandamium:containers",interpret:true,separator:"\n"}]}}]
