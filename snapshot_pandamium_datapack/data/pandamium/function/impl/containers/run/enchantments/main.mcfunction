execute store result score <total_enchantments> variable run data get storage pandamium:containers item.components."minecraft:enchantments".levels
execute if score <total_enchantments> variable matches 0 run return 0

data modify storage pandamium:containers enchantments set value []

execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:aqua_affinity" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"aqua_affinity"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:bane_of_arthropods" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"bane_of_arthropods"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:binding_curse" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"binding_curse"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:blast_protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"blast_protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:channeling" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"channeling"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:depth_strider" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"depth_strider"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:efficiency" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"efficiency"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:feather_falling" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"feather_falling"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:fire_aspect" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"fire_aspect"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:fire_protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"fire_protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:flame" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"flame"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:fortune" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"fortune"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:frost_walker" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"frost_walker"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:impaling" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"impaling"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:infinity" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"infinity"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:knockback" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"knockback"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:looting" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"looting"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:loyalty" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"loyalty"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:luck_of_the_sea" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"luck_of_the_sea"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:lure" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"lure"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:mending" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"mending"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:multishot" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"multishot"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:piercing" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"piercing"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:power" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"power"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:projectile_protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"projectile_protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:protection" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"protection"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:punch" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"punch"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:quick_charge" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"quick_charge"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:respiration" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"respiration"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:riptide" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"riptide"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:sharpness" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"sharpness"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:silk_touch" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"silk_touch"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:smite" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"smite"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:soul_speed" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"soul_speed"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:sweeping_edge" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"sweeping_edge"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:swift_sneak" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"swift_sneak"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:thorns" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"thorns"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:unbreaking" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"unbreaking"}
execute if data storage pandamium:containers item.components."minecraft:enchantments".levels."minecraft:vanishing_curse" in pandamium:staff_world run function pandamium:impl/containers/run/enchantments/get_and_append {name:"vanishing_curse"}

execute if data storage pandamium:containers {item:{id:'minecraft:enchanted_book'}} run tellraw @s [{"text":"â””stored_enchantments: ","color":"aqua"},{"text":"[Stored Enchantments]","color":"dark_purple","hoverEvent":{"action":"show_text","value":[{"nbt":"enchantments[]","storage":"pandamium:containers","interpret":true,"separator":"\n"}]}}]
execute unless data storage pandamium:containers {item:{id:'minecraft:enchanted_book'}} run tellraw @s [{"text":"â””enchantments: ","color":"aqua"},{"text":"[Enchantments]","color":"dark_purple","hoverEvent":{"action":"show_text","value":[{"nbt":"enchantments[]","storage":"pandamium:containers","interpret":true,"separator":"\n"}]}}]
