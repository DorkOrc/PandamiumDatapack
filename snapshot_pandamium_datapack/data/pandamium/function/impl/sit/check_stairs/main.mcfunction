# find stair from edge
execute unless block ~ ~-0.001 ~ #minecraft:stairs[half=bottom] run return run function pandamium:impl/sit/check_stairs/find_block

# check space in front of stair
execute if block ~ ~-0.001 ~ #stairs[half=bottom,facing=north] align xyz if block ~ ~-1 ~1 #pandamium:mobs_cannot_suffocate_in if block ~ ~ ~1 #pandamium:mobs_cannot_suffocate_in unless block ~ ~-1 ~1 #pandamium:cannot_sit_inside unless block ~ ~ ~1 #pandamium:cannot_sit_inside if block ~ ~-1 ~1 #pandamium:can_sit_in_front_of if block ~ ~ ~1 #pandamium:no_solid_collision if block ~ ~1 ~1 #pandamium:no_solid_collision positioned ~0.5 ~-0.5 ~0.8 run return run function pandamium:impl/sit/do_sit
execute if block ~ ~-0.001 ~ #stairs[half=bottom,facing=east] align xyz if block ~-1 ~-1 ~ #pandamium:mobs_cannot_suffocate_in if block ~-1 ~ ~ #pandamium:mobs_cannot_suffocate_in unless block ~-1 ~-1 ~ #pandamium:cannot_sit_inside unless block ~-1 ~ ~ #pandamium:cannot_sit_inside if block ~-1 ~-1 ~ #pandamium:can_sit_in_front_of if block ~-1 ~ ~ #pandamium:no_solid_collision if block ~-1 ~1 ~ #pandamium:no_solid_collision positioned ~0.2 ~-0.5 ~0.5 run return run function pandamium:impl/sit/do_sit
execute if block ~ ~-0.001 ~ #stairs[half=bottom,facing=south] align xyz if block ~ ~-1 ~-1 #pandamium:mobs_cannot_suffocate_in if block ~ ~ ~-1 #pandamium:mobs_cannot_suffocate_in unless block ~ ~-1 ~-1 #pandamium:cannot_sit_inside unless block ~ ~ ~-1 #pandamium:cannot_sit_inside if block ~ ~-1 ~-1 #pandamium:can_sit_in_front_of if block ~ ~ ~-1 #pandamium:no_solid_collision if block ~ ~1 ~-1 #pandamium:no_solid_collision positioned ~0.5 ~-0.5 ~0.2 run return run function pandamium:impl/sit/do_sit
execute if block ~ ~-0.001 ~ #stairs[half=bottom,facing=west] align xyz if block ~1 ~-1 ~ #pandamium:mobs_cannot_suffocate_in if block ~1 ~ ~ #pandamium:mobs_cannot_suffocate_in unless block ~1 ~-1 ~ #pandamium:cannot_sit_inside unless block ~1 ~ ~ #pandamium:cannot_sit_inside if block ~1 ~-1 ~ #pandamium:can_sit_in_front_of if block ~1 ~ ~ #pandamium:no_solid_collision if block ~1 ~1 ~ #pandamium:no_solid_collision positioned ~0.8 ~-0.5 ~0.5 run return run function pandamium:impl/sit/do_sit

# fail
return 0
