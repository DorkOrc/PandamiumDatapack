# arguments: id
# context: in pandamium:staff_world

loot replace block 5 0 0 contents loot {pools:[{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:stone"}]}],functions:[{function:"minecraft:set_name",entity:"this",name:{storage:"pandamium:temp",nbt:"display_name",interpret:true}}]}

execute if data storage pandamium:temp {origin_trigger:"mail"} run function pandamium:triggers/search_players/click_events/search_names/set_origin_trigger_format/mail with storage pandamium.db.players:io selected.entry
$execute if data storage pandamium:temp {origin_trigger:"jail"} run loot replace block 5 0 0 contents loot {pools:[{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:stone"}]}],functions:[{function:"minecraft:set_name",entity:"this",name:[{text:""},{text:"[J]",color:"dark_purple",hover_event:{action:"show_text",value:[{text:"Click to jail ",color:"dark_purple"},{storage:"pandamium:temp",nbt:"display_name",interpret:true}]},click_event:{action:"run_command",command:"trigger jail set $(id)"}},{text:" "},{storage:"pandamium:temp",nbt:"display_name",interpret:true}]}]}
$execute if data storage pandamium:temp {origin_trigger:"unjail"} run loot replace block 5 0 0 contents loot {pools:[{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:stone"}]}],functions:[{function:"minecraft:set_name",entity:"this",name:[{text:""},{text:"[U]",color:"dark_purple",hover_event:{action:"show_text",value:[{text:"Click to unjail ",color:"dark_purple"},{storage:"pandamium:temp",nbt:"display_name",interpret:true}]},click_event:{action:"run_command",command:"trigger unjail set $(id)"}},{text:" "},{storage:"pandamium:temp",nbt:"display_name",interpret:true}]}]}
$execute if data storage pandamium:temp {origin_trigger:"player_info"} run loot replace block 5 0 0 contents loot {pools:[{rolls:1,entries:[{type:"minecraft:item",name:"minecraft:stone"}]}],functions:[{function:"minecraft:set_name",entity:"this",name:[{text:""},{text:"[ðŸ‘‰]",color:"yellow",hover_event:{action:"show_text",value:[{text:"Click to see player info for\n",color:"yellow"},{storage:"pandamium:temp",nbt:"display_name",interpret:true}]},click_event:{action:"run_command",command:"trigger player_info_v2 set $(id)"}},{text:" "},{storage:"pandamium:temp",nbt:"display_name",interpret:true}]}]}

data modify storage pandamium:temp display_name set from block 5 0 0 item.components.minecraft:custom_name
