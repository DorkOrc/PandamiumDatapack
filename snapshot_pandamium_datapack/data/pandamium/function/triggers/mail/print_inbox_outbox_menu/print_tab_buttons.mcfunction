execute store result storage pandamium:templates macro.value.value int 1 run scoreboard players get @s mail_data.unread_mails
data modify storage pandamium:temp unread_mails_notifier set value ""
execute if score @s mail_data.unread_mails matches 1.. run function pandamium:utils/get/circled_number with storage pandamium:templates macro.value
execute if score @s mail_data.unread_mails matches 1.. run data modify storage pandamium:temp unread_mails_circled_number set from storage pandamium:temp circled_number
execute if score @s mail_data.unread_mails matches 1.. run data modify storage pandamium:temp unread_mails_notifier set value {text:" ",underlined:false,extra:[{storage:"pandamium:temp",nbt:"unread_mails_circled_number",color:"#FF0000",hover_event:{action:"show_text",value:[{text:"You have ",color:"#FF0000"},{score:{name:"@s",objective:"mail_data.unread_mails"}},{text:" unread mail(s) in your inbox"}]}}]}

execute store result storage pandamium:templates macro.value.value int 1 run scoreboard players get @s mail_data.unclaimed_items
data modify storage pandamium:temp unclaimed_items_notifier set value ""
execute if score @s mail_data.unclaimed_items matches 1.. run function pandamium:utils/get/circled_number with storage pandamium:templates macro.value
execute if score @s mail_data.unclaimed_items matches 1.. run data modify storage pandamium:temp unclaimed_items_notifier set value {text:" ",underlined:false,extra:[{storage:"pandamium:temp",nbt:"circled_number",color:"green",hover_event:{action:"show_text",value:[{text:"You have ",color:"green"},{score:{name:"@s",objective:"mail_data.unclaimed_items"}},{text:" unclaimed item(s) in your inbox"}]}}]}

data modify storage pandamium:local functions."pandamium:triggers/mail/print_inbox_outbox_menu/*".show_messageless_button set value {text:"☐",color:"gray",shadow_color:[0.5,0.5,0.5,1.0],hover_event:{action:"show_text",value:"Click to show item-only mails"},click_event:{action:"run_command",command:"trigger mail set 1000104"}}
execute if score @s mail_data.show_messageless matches 1 run data modify storage pandamium:local functions."pandamium:triggers/mail/print_inbox_outbox_menu/*".show_messageless_button set value {text:"☑",color:"green",shadow_color:[0.5,0.5,0.5,1.0],hover_event:{action:"show_text",value:"Click to hide item-only mails"},click_event:{action:"run_command",command:"trigger mail set 1000105"}}

execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 1 unless score @s mail_data.inbox_tab matches 1.. run tellraw @s [{text:"\n"},{text:"Tabs: ",color:"gray",bold:true},{text:"[All]",color:"white",underlined:true},{text:" "},{text:"[Unread]",extra:[{storage:"pandamium:temp",nbt:"unread_mails_notifier",interpret:true}],color:"white",hover_event:{action:"show_text",value:[{text:"Click to go to "},{text:"Unread",bold:true},{text:" tab"}]},click_event:{action:"run_command",command:"trigger mail set 1000102"}},{text:" "},{text:"[Unclaimed Items]",extra:[{storage:"pandamium:temp",nbt:"unclaimed_items_notifier",interpret:true}],color:"white",hover_event:{action:"show_text",value:[{text:"Click to go to "},{text:"Unclaimed Items",bold:true},{text:" tab"}]},click_event:{action:"run_command",command:"trigger mail set 1000103"}},{text:" "},{storage:"pandamium:local",nbt:"functions.'pandamium:triggers/mail/print_inbox_outbox_menu/*'.show_messageless_button",interpret:true}]
execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 1 if score @s mail_data.inbox_tab matches 1 run tellraw @s [{text:"\n"},{text:"Tabs: ",color:"gray",bold:true},{text:"[All]",color:"white",hover_event:{action:"show_text",value:[{text:"Click to go to "},{text:"All",bold:true},{text:" tab"}]},click_event:{action:"run_command",command:"trigger mail set 1000101"}},{text:" "},{text:"[Unread]",extra:[{storage:"pandamium:temp",nbt:"unread_mails_notifier",interpret:true}],color:"white",underlined:true},{text:" "},{text:"[Unclaimed Items]",extra:[{storage:"pandamium:temp",nbt:"unclaimed_items_notifier",interpret:true}],color:"white",hover_event:{action:"show_text",value:[{text:"Click to go to "},{text:"Unclaimed Items",bold:true},{text:" tab"}]},click_event:{action:"run_command",command:"trigger mail set 1000103"}},{text:" "},{storage:"pandamium:local",nbt:"functions.'pandamium:triggers/mail/print_inbox_outbox_menu/*'.show_messageless_button",interpret:true}]
execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 1 if score @s mail_data.inbox_tab matches 2 run tellraw @s [{text:"\n"},{text:"Tabs: ",color:"gray",bold:true},{text:"[All]",color:"white",hover_event:{action:"show_text",value:[{text:"Click to go to "},{text:"All",bold:true},{text:" tab"}]},click_event:{action:"run_command",command:"trigger mail set 1000101"}},{text:" "},{text:"[Unread]",extra:[{storage:"pandamium:temp",nbt:"unread_mails_notifier",interpret:true}],color:"white",hover_event:{action:"show_text",value:[{text:"Click to go to "},{text:"Unread",bold:true},{text:" tab"}]},click_event:{action:"run_command",command:"trigger mail set 1000102"}},{text:" "},{text:"[Unclaimed Items]",extra:[{storage:"pandamium:temp",nbt:"unclaimed_items_notifier",interpret:true}],color:"white",underlined:true},{text:" "},{storage:"pandamium:local",nbt:"functions.'pandamium:triggers/mail/print_inbox_outbox_menu/*'.show_messageless_button",interpret:true}]
