# arguments: open_mail_input_value, open_draft_input_value

# inbox
$execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 1 if data storage pandamium:temp entry_info{ephemeral:1b} run return run tellraw @s [{text:"• "},{text:"",hover_event:{action:"show_text",value:[{text:""},{text:"Click to view ephemeral mail\n",color:"#7AA4BB"},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},click_event:{action:"run_command",command:"trigger mail set $(open_mail_input_value)"},extra:[{text:"[👁]",color:"#7AA4BB"},{text:" "},{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]},{storage:"pandamium:temp",nbt:"entry_info.display_suffix_components[]","separator":" ",interpret:true}]},{text:"\n └ "},{text:"from: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.sender.display_name",interpret:true}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]
$execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 1 run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{text:"Click to view mail\n",color:"blue"},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},click_event:{action:"run_command",command:"trigger mail set $(open_mail_input_value)"},extra:[{text:"[👁]",color:"blue"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]},{storage:"pandamium:temp",nbt:"entry_info.display_suffix_components[]","separator":" ",interpret:true}]},{text:"\n └ "},{text:"from: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.sender.display_name",interpret:true}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]

execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 0 if data storage pandamium:temp entry_info{ephemeral:1b} run return run tellraw @s [{text:"• "},{text:"",hover_event:{action:"show_text",value:[{text:""},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"},{text:"\nEphemeral",color:"gray"}]},extra:[[{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true},{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]]},{text:"\n └ "},{text:"from: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.sender.display_name",interpret:true}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]
execute if predicate pandamium:mail_list_type/inbox if score <self> variable matches 0 run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},extra:[{text:"[👁]",color:"dark_gray"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]}]},{text:"\n └ "},{text:"from: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.sender.display_name",interpret:true}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]

# outbox
execute if predicate pandamium:mail_list_type/any_outbox run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},extra:[{text:"[👁]",color:"dark_gray"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]}]},{text:"\n └ "},{text:"to: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.receivers[].display_name",interpret:true,separator:{text:", ",color:"white"}}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]

# drafts
execute if predicate pandamium:mail_list_type/drafts if score <self> variable matches 0 run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},extra:[{text:"[👁]",color:"dark_gray"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]}]},{text:"\n └ "},{text:"to: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.receivers[].display_name",interpret:true,separator:{text:", ",color:"white"}}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Created "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]
$execute if predicate pandamium:mail_list_type/drafts if score <self> variable matches 1 run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{text:"Click to view, modify, send, or delete draft\n",color:"yellow"},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},click_event:{action:"run_command",command:"trigger mail set $(open_draft_input_value)"},extra:[{text:"[👁]",color:"yellow"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]}]},{text:"\n └ "},{text:"to: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.receivers[].display_name",interpret:true,separator:{text:", ",color:"white"}}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Created "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]

# news feed
$execute if predicate pandamium:mail_list_type/news_feed_inbox run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{text:"Click to view post\n",color:"blue"},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},click_event:{action:"run_command",command:"trigger mail set $(open_mail_input_value)"},extra:[{text:"[👁]",color:"blue"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]}]},{text:"\n └ "},{text:"posted ",color:"gray",extra:[{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}]

# staff_inbox
$execute if predicate pandamium:mail_list_type/staff_inbox if data storage pandamium:temp entry_info{ephemeral:1b} run return run tellraw @s [{text:"• "},{text:"",hover_event:{action:"show_text",value:[{text:""},{text:"Click to view ephemeral mail\n",color:"#7AA4BB"},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},click_event:{action:"run_command",command:"trigger mail set $(open_mail_input_value)"},extra:[{text:"[👁]",color:"#7AA4BB"},{text:" "},{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]},{storage:"pandamium:temp",nbt:"entry_info.display_suffix_components[]","separator":" ",interpret:true}]},{text:"\n └ "},{text:"from: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.sender.display_name",interpret:true}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]
$execute if predicate pandamium:mail_list_type/staff_inbox run return run tellraw @s ["• ",{text:"",hover_event:{action:"show_text",value:["",{text:"Click to view mail\n",color:"blue"},{storage:"pandamium:temp",nbt:"entry_info.display_info_components[]",interpret:true,separator:"\n"}]},click_event:{action:"run_command",command:"trigger mail set $(open_mail_input_value)"},extra:[{text:"[👁]",color:"blue"}," ",{storage:"pandamium:temp",nbt:"entry_info.read_status_colour",interpret:true,extra:[{storage:"pandamium:temp",nbt:"entry_info.data.title",interpret:true,underlined:true}]},{storage:"pandamium:temp",nbt:"entry_info.display_suffix_components[]","separator":" ",interpret:true}]},{text:"\n └ "},{text:"from: ",color:"gray"},{text:"",color:"aqua",extra:[{storage:"pandamium:temp",nbt:"entry_info.sender.display_name",interpret:true}]},{text:" "},{text:"[⌚]",color:"dark_gray",hover_event:{action:"show_text",value:[{text:"Sent "},{storage:"pandamium:temp",nbt:"time_phrase",interpret:true}]}}]
