
# Store Starting Name
data modify storage pandamium:temp old_name set from storage pandamium:temp NBT.SelectedItem.tag.display.Name

# Modify mainhand item display.Name
setblock 0 0 0 air

execute if score @s item_font matches -1 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"bold":false}'}
execute if score @s item_font matches -2 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"bold":true}'}
execute if score @s item_font matches -3 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"italic":false}'}
execute if score @s item_font matches -4 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"italic":true}'}
execute if score @s item_font matches -5 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"underlined":false}'}
execute if score @s item_font matches -6 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"underlined":true}'}
execute if score @s item_font matches -7 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"strikethrough":false}'}
execute if score @s item_font matches -8 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"strikethrough":true}'}

execute if score @s item_font matches -9 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#ffffff"}'}
execute if score @s item_font matches -10 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#555555"}'}
execute if score @s item_font matches -11 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#ff0000"}'}
execute if score @s item_font matches -12 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#ff7f00"}'}
execute if score @s item_font matches -13 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#ffff00"}'}
execute if score @s item_font matches -14 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#00ff00"}'}
execute if score @s item_font matches -15 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#00ffff"}'}
execute if score @s item_font matches -16 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#007fff"}'}
execute if score @s item_font matches -17 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#0000ff"}'}
execute if score @s item_font matches -18 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#7f00ff"}'}
execute if score @s item_font matches -19 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#ff00ff"}'}
execute if score @s item_font matches -20 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#ff007f"}'}

execute if score @s item_font matches -21 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#aaaaaa"}'}
execute if score @s item_font matches -22 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#000000"}'}
execute if score @s item_font matches -23 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#7f0000"}'}
execute if score @s item_font matches -24 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#7f3f00"}'}
execute if score @s item_font matches -25 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#7f7f00"}'}
execute if score @s item_font matches -26 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#007f00"}'}
execute if score @s item_font matches -27 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#007f7f"}'}
execute if score @s item_font matches -28 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#003f7f"}'}
execute if score @s item_font matches -29 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#00007f"}'}
execute if score @s item_font matches -30 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#3f007f"}'}
execute if score @s item_font matches -31 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#7f007f"}'}
execute if score @s item_font matches -32 run setblock 0 0 0 oak_sign{Text1:'{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true,"color":"#7f003f"}'}

# Check if name changed
data modify storage pandamium:temp new_name set from block 0 0 0 Text1
execute store success score <different_name> variable run data modify storage pandamium:temp old_name set from storage pandamium:temp new_name
execute if score <different_name> variable matches 0 run scoreboard players set <can_run> variable 0

# Transfer new_name
item modify entity @s weapon.mainhand pandamium:item_font/transfer_name
data modify storage pandamium:temp NBT set from entity @s

# Display success
execute if score <different_name> variable matches 1 run tellraw @s [{"text":"","color":"green"},{"text":"[Item Font]","color":"dark_green"}," Updated your mainhand item's display name: ",[{"text":"","color":"white","italic":true},{"nbt":"NBT.SelectedItem.tag.display.Name","storage":"pandamium:temp","interpret":true}]]
execute if score <different_name> variable matches 1 at @s run playsound ui.cartography_table.take_result master @s
