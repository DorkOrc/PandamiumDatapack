execute unless score @s gameplay_perms matches 5.. run function pandamium:misc/donator_only_message

#display menu
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s {"text":"Item Font Menu:","color":"aqua","bold":true}
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Bold:","bold":true}," ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger font set -1"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Bold","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger font set -2"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Bold","color":"green"}}}]
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Italic:","italic":true}," ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger font set -3"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Italic","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger font set -4"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Italic","color":"green"}}}]
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Underlined:","underlined":true}," ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger font set -5"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Underlined","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger font set -6"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Underlined","color":"green"}}}]
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Strikethrough:","strikethrough":true}," ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger font set -7"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Strikethrough","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger font set -8"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Strikethrough","color":"green"}}}]
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s ["",{"text":"⬛","color":"#ffffff","clickEvent":{"action":"run_command","value":"/trigger font set -9"},"hoverEvent":{"action":"show_text","value":{"text":"White","color":"#ffffff"}}},{"text":"⬛","color":"#555555","clickEvent":{"action":"run_command","value":"/trigger font set -10"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Grey","color":"#555555"}}},{"text":"⬛","color":"#ff0000","clickEvent":{"action":"run_command","value":"/trigger font set -11"},"hoverEvent":{"action":"show_text","value":{"text":"Red","color":"#ff0000"}}},{"text":"⬛","color":"#ff7f00","clickEvent":{"action":"run_command","value":"/trigger font set -12"},"hoverEvent":{"action":"show_text","value":{"text":"Orange","color":"#ff7f00"}}},{"text":"⬛","color":"#ffff00","clickEvent":{"action":"run_command","value":"/trigger font set -13"},"hoverEvent":{"action":"show_text","value":{"text":"Yellow","color":"#ffff00"}}},{"text":"⬛","color":"#00ff00","clickEvent":{"action":"run_command","value":"/trigger font set -14"},"hoverEvent":{"action":"show_text","value":{"text":"Green","color":"#00ff00"}}},{"text":"⬛","color":"#00ffff","clickEvent":{"action":"run_command","value":"/trigger font set -15"},"hoverEvent":{"action":"show_text","value":{"text":"Cyan","color":"#00ffff"}}},{"text":"⬛","color":"#007fff","clickEvent":{"action":"run_command","value":"/trigger font set -16"},"hoverEvent":{"action":"show_text","value":{"text":"Azure","color":"#007fff"}}},{"text":"⬛","color":"#0000ff","clickEvent":{"action":"run_command","value":"/trigger font set -17"},"hoverEvent":{"action":"show_text","value":{"text":"Blue","color":"#0000ff"}}},{"text":"⬛","color":"#7f00ff","clickEvent":{"action":"run_command","value":"/trigger font set -18"},"hoverEvent":{"action":"show_text","value":{"text":"Indigo","color":"#7f00ff"}}},{"text":"⬛","color":"#ff00ff","clickEvent":{"action":"run_command","value":"/trigger font set -19"},"hoverEvent":{"action":"show_text","value":{"text":"Magenta","color":"#ff00ff"}}},{"text":"⬛","color":"#ff007f","clickEvent":{"action":"run_command","value":"/trigger font set -20"},"hoverEvent":{"action":"show_text","value":{"text":"Rose","color":"#ff007f"}}}]
execute if score @s gameplay_perms matches 5.. if score @s font matches 1.. run tellraw @s ["",{"text":"⬛","color":"#aaaaaa","clickEvent":{"action":"run_command","value":"/trigger font set -21"},"hoverEvent":{"action":"show_text","value":{"text":"Light Grey","color":"#aaaaaa"}}},{"text":"⬛","color":"#000000","clickEvent":{"action":"run_command","value":"/trigger font set -22"},"hoverEvent":{"action":"show_text","value":{"text":"Black","color":"#1f1f1f"}}},{"text":"⬛","color":"#7f0000","clickEvent":{"action":"run_command","value":"/trigger font set -23"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Red","color":"#7f0000"}}},{"text":"⬛","color":"#7f3f00","clickEvent":{"action":"run_command","value":"/trigger font set -24"},"hoverEvent":{"action":"show_text","value":{"text":"Brass","color":"#7f3f00"}}},{"text":"⬛","color":"#7f7f00","clickEvent":{"action":"run_command","value":"/trigger font set -25"},"hoverEvent":{"action":"show_text","value":{"text":"Olive","color":"#7f7f00"}}},{"text":"⬛","color":"#007f00","clickEvent":{"action":"run_command","value":"/trigger font set -26"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Green","color":"#007f00"}}},{"text":"⬛","color":"#007f7f","clickEvent":{"action":"run_command","value":"/trigger font set -27"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Cyan","color":"#007f7f"}}},{"text":"⬛","color":"#003f7f","clickEvent":{"action":"run_command","value":"/trigger font set -28"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Azure","color":"#003f7f"}}},{"text":"⬛","color":"#00007f","clickEvent":{"action":"run_command","value":"/trigger font set -29"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Blue","color":"#00007f"}}},{"text":"⬛","color":"#3f007f","clickEvent":{"action":"run_command","value":"/trigger font set -30"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Indigo","color":"#3f007f"}}},{"text":"⬛","color":"#7f007f","clickEvent":{"action":"run_command","value":"/trigger font set -31"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Magenta","color":"#7f007f"}}},{"text":"⬛","color":"#7f003f","clickEvent":{"action":"run_command","value":"/trigger font set -32"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Rose","color":"#7f003f"}}}]


#catch errors (check if held item with custom name)
execute if score @s gameplay_perms matches 5.. run scoreboard players set <can_run> variable 1
execute if score @s gameplay_perms matches 5.. unless data entity @s SelectedItem.tag.display.Name run scoreboard players set <can_run> variable 0
execute if score @s gameplay_perms matches 5.. unless score @s font matches -32..-1 run scoreboard players set <can_run> variable 0

#store starting name
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 run data modify storage pandamium:font Name set from entity @s SelectedItem.tag.display.Name

#modify held item custom name
execute if score @s gameplay_perms matches 5.. if score @s font matches -1 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/bold_false
execute if score @s gameplay_perms matches 5.. if score @s font matches -2 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/bold_true
execute if score @s gameplay_perms matches 5.. if score @s font matches -3 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/italic_false
execute if score @s gameplay_perms matches 5.. if score @s font matches -4 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/italic_true
execute if score @s gameplay_perms matches 5.. if score @s font matches -5 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/underlined_false
execute if score @s gameplay_perms matches 5.. if score @s font matches -6 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/underlined_true
execute if score @s gameplay_perms matches 5.. if score @s font matches -7 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/strikethrough_false
execute if score @s gameplay_perms matches 5.. if score @s font matches -8 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/strikethrough_true

execute if score @s gameplay_perms matches 5.. if score @s font matches -9 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/white
execute if score @s gameplay_perms matches 5.. if score @s font matches -10 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_grey
execute if score @s gameplay_perms matches 5.. if score @s font matches -11 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/red
execute if score @s gameplay_perms matches 5.. if score @s font matches -12 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/orange
execute if score @s gameplay_perms matches 5.. if score @s font matches -13 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/yellow
execute if score @s gameplay_perms matches 5.. if score @s font matches -14 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/green
execute if score @s gameplay_perms matches 5.. if score @s font matches -15 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/cyan
execute if score @s gameplay_perms matches 5.. if score @s font matches -16 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/azure
execute if score @s gameplay_perms matches 5.. if score @s font matches -17 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/blue
execute if score @s gameplay_perms matches 5.. if score @s font matches -18 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/indigo
execute if score @s gameplay_perms matches 5.. if score @s font matches -19 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/magenta
execute if score @s gameplay_perms matches 5.. if score @s font matches -20 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/rose
execute if score @s gameplay_perms matches 5.. if score @s font matches -21 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/light_grey
execute if score @s gameplay_perms matches 5.. if score @s font matches -22 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/black
execute if score @s gameplay_perms matches 5.. if score @s font matches -23 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_red
execute if score @s gameplay_perms matches 5.. if score @s font matches -24 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/brown
execute if score @s gameplay_perms matches 5.. if score @s font matches -25 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/olive
execute if score @s gameplay_perms matches 5.. if score @s font matches -26 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_green
execute if score @s gameplay_perms matches 5.. if score @s font matches -27 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_cyan
execute if score @s gameplay_perms matches 5.. if score @s font matches -28 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_azure
execute if score @s gameplay_perms matches 5.. if score @s font matches -29 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_blue
execute if score @s gameplay_perms matches 5.. if score @s font matches -30 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_indigo
execute if score @s gameplay_perms matches 5.. if score @s font matches -31 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_magenta
execute if score @s gameplay_perms matches 5.. if score @s font matches -32 if score <can_run> variable matches 1 run item entity @s weapon.mainhand modify pandamium:font/color/dark_rose

#check if name changed
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 store success score <different_name> variable run data modify storage pandamium:font Name set from entity @s SelectedItem.tag.display.Name
execute if score @s gameplay_perms matches 5.. if score <different_name> variable matches 0 run scoreboard players set <can_run> variable 0

#display success
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 if score <can_run> variable matches 1 run tellraw @s [{"text":"","color":"green"},{"text":"[Font]","color":"dark_green"}," Changed held item custom name: ",[{"text":"","color":"white","italic":true},{"nbt":"SelectedItem.tag.display.Name","entity":"@s","interpret":true}]]

#display an error message
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 run scoreboard players set <displayed_error> variable 0
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless score @s font matches -32..-1 run tellraw @s [{"text":"","color":"red"},{"text":"[Font]","color":"dark_red"}," Not a valid option!"]
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless data entity @s SelectedItem run tellraw @s [{"text":"","color":"red"},{"text":"[Font]","color":"dark_red"}," No item in your main hand!"]
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless data entity @s SelectedItem.tag.display.Name run tellraw @s [{"text":"","color":"red"},{"text":"[Font]","color":"dark_red"}," Held item has no custom name!"]
execute if score @s gameplay_perms matches 5.. if score @s font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless score <different_name> variable matches 1 run tellraw @s [{"text":"","color":"red"},{"text":"[Font]","color":"dark_red"}," Nothing changed!"]

#
scoreboard players reset @s font
scoreboard players enable @s font
